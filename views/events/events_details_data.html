<!-- Events - DATA VIEW (BEFORE) -->
 
<div class="container">
	<form novalidate>
	<div class="dividersBar big">SUMMARY</div>
	<div class="box-container events data">
		<textarea id="dataSummary" scopic-auto-expand="isActive" style="resize: none; overflow:hidden;" rows="5" cols="30" class="placeholder-light clean" placeholder="Write a summary" ng-model="event.summary"></textarea>
		<a id="showMore" ng-show="showMoreTextLink" class="blue" ng-click="showMoreText()" href=""></a>
	</div>
 
	<div class="dividersBar big" ng-show="showConsumer">CONSUMER REACH</div>
	<div class="box-container events data" ng-show="showConsumer">
		<div class="category" ng-repeat="results in eventResultsItems | filter:{module: 'consumer_reach'}| orderBy:['ordering']">
				<!-- <label class="medium">{{results.label}}</label> -->
			<div ng-repeat="field in results.fields">
				<div ng-switch on="field.field_type">
					<div ng-switch-when="percentage">
						<label class="medium">{{field.name}}</label>
						<p class="medium">{{field.description}}</p>
						<div class="clearfix" ng-repeat="segment in field.segments">
							<div class="input-group">
						  		<input type="number" ng-model="segment.value" class="form-control" id="{{segment.id}}">
						  		<span class="input-group-addon">%</span>
							</div>
							<label class="data">{{segment.text}}</label>
						</div>
					</div>
					<div ng-switch-when="number">
				 		<div class="clearfix">
							<label class="medium">{{field.name}}</label>
							<p class="medium">{{field.description}}</p>
							<input type="number" ng-model="field.value" id="{{field.id}}"></input>
						</div> 
					</div>
					<div ng-switch-when="text">
				 		<div class="clearfix">
							<label class="medium">{{field.name}}</label>
							<p>{{field.description}}</p>
							<input type="number" ng-model="field.value" id="{{field.id}}"></input>
						</div> 
					</div>
					<div ng-switch-when="count">
						<div ng-switch on="field.options.capture_mechanism">
							<div ng-switch-when="radio">
								<label class="medium">{{field.name}}</label>
								<p class="medium">{{field.description}}</p>
								<div class="clearfix">
									<div class="radio-selector" ng-repeat="segment in field.segments">
										<div class="radio clearfix">  
									    	<input id="{{segment.id}}" type="radio" ng-model="field.value" name="{{field.id}}" value="{{segment.id}}">
									    	<label for="{{segment.id}}">{{segment.text}}</label>
										</div>  
									</div>
								</div>
							</div>
							<div ng-switch-when="dropdown">
								<label class="medium">{{field.name}}</label>
								<div class="clearfix">
									<select class="form-control arrow" ng-repeat="segment in field.segments">
								    	<option id="{{segment.id}}">{{segment.text}}</option>
									</select>
								</div>
							</div>
							<div ng-switch-when="checkbox">
								<label class="medium">{{field.name}}</label>
								<div class="clearfix m25 checkbox-selector" ng-repeat="segment in field.segments">
							        <input type="checkbox" id="{{segment.id}}" name="{{field.id}}">
							        <label for="{{segment.id}}">{{segment.text}}</label>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>			
		</div>
	</div>
 
	<div class="dividersBar big" ng-show="showDemographics">DEMOGRAPHICS</div>
	<div class="box-container events data" ng-show="showDemographics">
		<div class="category" ng-repeat="results in eventResultsItems | filter:{module: 'demographics'}| orderBy:['ordering']">
				<!-- <label class="medium">{{results.label}}</label> -->
			<div ng-repeat="field in results.fields">
				<div ng-switch on="field.field_type">
					<div ng-switch-when="percentage">
						<label class="medium">{{field.name}}</label>
						<p class="medium">{{field.description}}</p>
						<div class="clearfix" ng-repeat="segment in field.segments">
							<div class="input-group mb10">
						  		<input type="number" ng-model="segment.value" class="form-control" id="{{segment.id}}">
						  		<span class="input-group-addon">%</span>
							</div>
							<label class="data">{{segment.text}}</label>
						</div>
					</div>
					<div ng-switch-when="number">
				 		<div class="clearfix">
							<label class="medium">{{field.name}}</label>
							<p class="medium">{{field.description}}</p>
							<input type="number" ng-model="field.value" id="{{field.id}}"></input>
						</div> 
					</div>
					<div ng-switch-when="text">
				 		<div class="clearfix">
							<label class="medium">{{field.name}}</label>
							<p class="medium">{{field.description}}</p>
							<input type="number" ng-model="field.value" id="{{field.id}}"></input>
						</div> 
					</div>
					<div ng-switch-when="count" class="number">
						<div ng-switch on="field.options.capture_mechanism">
							<div ng-switch-when="radio">
								<label class="medium">{{field.name}}</label>
								<p class="medium">{{field.description}}</p>
								<div class="clearfix">
									<div class="radio-selector" ng-repeat="segment in field.segments">
										<div class="radio">  
									    	<input id="{{segment.id}}" type="radio" ng-model="field.value" name="{{field.id}}" value="{{segment.id}}">
									    	<label for="{{segment.id}}">{{segment.text}}</label>
										</div>  
									</div>
								</div>
							</div>
							<div ng-switch-when="dropdown">
								<label class="medium">{{field.name}}</label>
								<p class="medium">{{field.description}}</p>
								<div class="clearfix m25">
									<select class="form-control arrow" ng-repeat="segment in field.segments">
								    	<option id="{{segment.id}}">{{segment.text}}</option>
									</select>
								</div>
							</div>
							<div ng-switch-when="checkbox">
								<label class="medium">{{field.name}}</label>
								<p>{{field.description}}</p>
								<div class="clearfix checkbox-selector" ng-repeat="segment in field.segments">
							        <input type="checkbox" id="{{segment.id}}" name="{{field.id}}">
							        <label for="{{segment.id}}">{{segment.text}}</label>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>			
		</div>
	</div>

	<div class="dividersBar big" ng-show="showCustom"></div>
	<div class="box-container events data" ng-show="showCustom">
		<div class="category" ng-repeat="results in eventResultsItems | filter:{module: 'custom'}| orderBy:['ordering']">
				<!-- <label class="medium">{{results.label}}</label> -->
			<div ng-repeat="field in results.fields">
				<div ng-switch on="field.field_type">
					<div ng-switch-when="percentage">
						<label class="medium">{{field.name}}</label>
						<p class="medium">{{field.description}}</p>
						<div class="clearfix m25" ng-repeat="segment in field.segments">
							<div class="input-group">
						  		<input type="number" ng-model="segment.value" class="form-control" id="{{segment.id}}">
						  		<span class="input-group-addon">%</span>
							</div>
							<label class="data">{{segment.text}}</label>
						</div>
					</div>
					<div ng-switch-when="number">
				 		<div class="clearfix">
							<label class="medium">{{field.name}}</label>
							<p class="medium">{{field.description}}</p>
							<input type="number" ng-model="field.value" id="{{field.id}}"></input>
						</div> 
					</div>
					<div ng-switch-when="text">
				 		<div class="clearfix">
							<label class="medium">{{field.name}}</label>
							<p class="medium">{{field.description}}</p>
							<input type="number" ng-model="field.value" id="{{field.id}}"></input>
						</div> 
					</div>
					<div ng-switch-when="count">
						<div ng-switch on="field.options.capture_mechanism">
							<div ng-switch-when="radio">
								<label class="medium">{{field.name}}</label>
								<p class="medium">{{field.description}}</p>
								<div class="clearfix">
									<div class="radio-selector" ng-repeat="segment in field.segments">
										<div class="radio clearfix">  
									    	<input id="{{segment.id}}" type="radio" ng-model="field.value" name="{{field.id}}" value="{{segment.id}}">
									    	<label for="{{segment.id}}">{{segment.text}}</label>
										</div>  
									</div>
								</div>
							</div>
							<div ng-switch-when="dropdown">
								<label class="medium">{{field.name}}</label>
								<p class="medium">{{field.description}}</p>
								<div class="clearfix">
									<select class="form-control arrow" ng-repeat="segment in field.segments">
								    	<option id="{{segment.id}}">{{segment.text}}</option>
									</select>
								</div>
							</div>
							<div ng-switch-when="checkbox">
								<label class="medium">{{field.name}}</label>
								<p class="medium">{{field.description}}</p>
								<div class="clearfix checkbox-selector" ng-repeat="segment in field.segments">
							        <input type="checkbox" id="{{segment.id}}" name="{{field.id}}" ng-model="segment.value">
							        <label for="{{segment.id}}">{{segment.text}}</label>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>			
		</div>
	</div>

	<div class="row">
	  <div class="col-xs-12">
          <input type="submit" value="save" class="btn btn-danger" data-trigger-on-header='save' ng-click="updateEventData(eventResultsItems)">
	  </div>
	</div>
	</form>
</div>