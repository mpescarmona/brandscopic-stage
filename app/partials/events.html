<!-- Header -->

  <div class="navHeader" ng-class="{gallery: UserInterface.hasCustomHomeClass}" ng-show="!UserInterface.searching">
    <div class="left">
      <button snap-toggle class="noButton menuIcon pull-left" ng-show="UserInterface.hasMenuIcon"></button>
      <button snap-toggle class="noButton delete pull-left" ng-show="UserInterface.hasDeleteIcon"></button>
      <button snap-toggle class="noButton backIcon pull-left" ng-show="UserInterface.hasBackIcon"></button>
    </div>
    <div class="center">
      <h1 class="txtAdjust">{{UserInterface.title}}</h1>
    </div>
    <div class="right">
      <span ng-show="showSearchField" class="events_search">
        <div class="typeahead">
            <scopic-typeahead 
                data-type="scopic.consts.typeahead_types.EVENTS"
                data-is-custom="scopic.consts.booleans.TRUE">
            </scopic-typeahead>
        </div>
        <div class="btn-cancel">
          <button class="btn btn-grey" ng-click="showSearchEvent(false)" style="margin-left:5px;">Cancel</button>
        </div>
      </span>
      <span ng-hide="showSearchField">
          <button class="noButton magnifierIcon out pull-right"
                ng-click="showSearchEvent(true)"
                ng-show="UserInterface.hasMagnifierIcon"
                ng-swipe-left="UserInterface.searching=true">
          </button>

          <button class="noButton addIcon pull-right" ng-show="UserInterface.hasAddIcon" redirect-to-state="{{UserInterface.AddIconState}}" ng-animate=" ' animate' "></button>
      
          <span ng-show="UserInterface.hasAddPhoto" class="noButton addIcon pull-right fileUpload">
              <input name="file" type="file" accept="image/*" ng-model="photoName" class="upload"> 
              <!--<form id="photoForm" action="" method="post" enctype="multipart/form-data">
                  <input type="hidden" name="key" value="{{ photoForm.key }}">
                  <input type="hidden" name="AWSAccessKeyId" value="{{ photoForm.AWSAccessKeyId }}"> 
                  <input type="hidden" name="acl" value="public-read"> 
                  <input type="hidden" name="success_action_redirect" value="http://localhost/">
                  <input type="hidden" name="policy" value="{{ photoForm.policy }}">
                  <input type="hidden" name="signature" value="{{ photoForm.signature }}">
                  <input type="hidden" name="Content-Type" value="image/jpeg">
              </form> -->
          </span>
      </span>

      <div class="noButton addIcon pull-right fileUpload hidden">
        <input type="file" class="upload" accept="image/*"/>
      </div>


      <button id="buttonSave" class="btn btn-danger" ng-disabled="isEventCompleted" ng-show="UserInterface.hasSaveIcon" ng-click="CreateEventView()">Save</button>


      <button class="btn btn-grey" ng-show="UserInterface.hasEditIcon" redirect-to="{{UserInterface.EditIconUrl}}">Edit</button>
      <button class="btn btn-grey" ng-show="UserInterface.hasCancelIcon">Cancel</button>
      <button class="noButton delete" ng-show="UserInterface.hasCloseIcon" redirect-to-state="{{UserInterface.CloseState}}"></button>
      <button class="btn btn-danger hidden">Post</button>
    </div>
  </div> 
<!-- Status Bar for Events List -->

<div class="statusBar" ng-show="!UserInterface.searching">
	<div class="container">
		<div class="row">
			<div class="col-xs-2 filter" ng-repeat="filter in filters" ng-class="{active: event_status==filter.id}">
				<a ng-click="filterStatus('{{filter.id}}')">
					<div class="number">{{filter.count | totalCount}}</div>
					<p>{{filter.label}}</p>
				</a>
			</div>
		</div>
	</div>
</div>

<!-- Events Container -->

<div class="container" ng-repeat="event in eventsItems | orderBy:['start_date','start_time'] | filter:event_status | filter:{status:'Active'}" ng-show="!UserInterface.searching">
	<!-- <div class="dividersBar">TODAY</div> -->
	<div class="dividersBar">{{event.start_date | date:'EEEE, MMM d'}}</div>
	<div class="box-container np" ng-show="!UserInterface.searching">
    <ul class="events list swipe-list" go-to>
      <li ng-repeat="event1 in eventsItems | orderBy:['start_date','start_time'] | filter:{start_date:event.start_date, event_status:event.event_status, status:'Active'}" ng-show="!UserInterface.searching" ng-class="{lastItem: $last}">
        <div class="row action-buttons dual-button" ng-class="{late: event_status=='Late', due: event_status=='Due', submitted: event_status=='Submitted', rejected: event_status=='Rejected'}" ng-swipe-left="showButtons = true" ng-swipe-right="showButtons = false" ng-show="showButtons" ng-animate="'animate'" ng-click="goTo('#/home/events/{{event1.id}}/about')">
          <!--approved: event_status=='Approved'-->
          <div class="row-content">
            <div class="col-xs-3 eventHour">
              <p class="xs">{{event1.start_time}}</p>
              <p class="xs">{{event1.end_time}}</p>
            </div>
            <div class="col-xs-9 eventDescription">
              <h5 class="txtAdjust">{{event1.campaign.name}}</h5>
              <p class="medium txtAdjust second">{{event1.place.name}}, {{event1.place.city}}, {{event1.place.state}}</p>
            </div>
          </div>
          <div class="editpanel actions-panel">
            <!-- <a href="#" class="edit" stop-event='click' redirect-to="#home/events/{{event1.id}}/edit"></a> -->
            <!-- <a href="#" class="deactivate" stop-event='click' ng-click="deleteEvent(event)"></a> -->
            <button type="button" class="noButton edit" redirect-to="#home/events/{{event1.id}}/edit"></button>
            <button type="button" class="noButton deactivate" ng-click="deleteEvent(event)"></button>
          </div>
        </div>
      </li>
		</ul>
	</div>
</div>

<!-- No events 

<div class="empty">
	<span class="no-events"></span>
	<h4>No Events</h4>
	<h6>You have no events scheduled</h6>
	<h6><b>Tip:</b> Tap the <span class="glyphicon glyphicon-plus"></span> button above to <br>schedule an event.</h6>
</div>

-->